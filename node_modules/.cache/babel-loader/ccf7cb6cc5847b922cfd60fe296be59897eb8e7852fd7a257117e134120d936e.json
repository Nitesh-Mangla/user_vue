{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      users: [],\n      page: 1,\n      limit: 15,\n      total: 0,\n      search_by_name: ''\n    };\n  },\n  methods: {\n    setSearch() {\n      if (this.token) {\n        this.search_by_name = this.token;\n      }\n    },\n    async fetchUserDetails(page = 1, limit = 15) {\n      try {\n        this.limit = limit;\n        const response = await axios.get(`http://localhost:3000/users?page=${page}&limit=${this.limit}&first_name=${this.search_by_name}`, {\n          headers: {\n            authorization: 'J23HRGVB2EREBWN'\n          }\n        });\n        const res = response.data;\n        this.users = res.data;\n        this.total = res.total;\n        this.page = res.page;\n        this.limit = res.limit;\n      } catch (error) {\n        console.error('Error fetching user details:', error);\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString();\n    }\n  },\n  mounted() {\n    this.fetchUserDetails();\n  }\n};","map":{"version":3,"names":["axios","data","users","page","limit","total","search_by_name","methods","setSearch","token","fetchUserDetails","response","get","headers","authorization","res","error","console","formatDate","date","Date","toLocaleString","mounted"],"sources":["/Users/niteshmangla/Desktop/projects/user_vue/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex flex-row lp-2\">\n    <input type=\"text\" placeholder=\"Search by name\" name=\"search_by_name\" v-model=\"token\"\n           @input=\"setSearch\">\n    <button class=\"btn btn-info\" @click=\"fetchUserDetails(page+1, limit)\">Search</button>\n  </div>\n  <table class=\"table table-striped table-bordered table-responsive-lg\">\n    <thead>\n      <tr>\n        <th scope=\"col\">S.No</th>\n        <th scope=\"col\">First Name</th>\n        <th scope=\"col\">Last Name</th>\n        <th scope=\"col\">Email</th>\n        <th scope=\"col\">Organization</th>\n        <th scope=\"col\">Created On</th>\n      </tr>\n    </thead>\n    <tbody>\n    <tr v-for=\"user in users\" :key=\"user.id\">\n      <td>{{ user.id }}</td>\n      <td>{{ user.first_name }}</td>\n      <td>{{ user.last_name }}</td>\n      <td>{{ user.email }}</td>\n      <td>{{ user.organization }}</td>\n      <td>{{ formatDate(user.created_on) }}</td>\n    </tr>\n    </tbody>\n  </table>\n  <div class=\"pagination d-flex justify-content-center\">\n    <button class=\"btn btn-primary\" :disabled=\"page === 1\" @click=\"fetchUserDetails(page-1)\">Prev</button>\n    <button class=\"btn btn-primary\" :disabled=\"limit * page+1 >= total\" @click=\"fetchUserDetails(page+1, limit)\">Next</button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      users: [],\n      page: 1,\n      limit: 15,\n      total: 0,\n      search_by_name: ''\n    };\n  },\n  methods: {\n    setSearch()\n    {\n      if (this.token) {\n        this.search_by_name = this.token;\n      }\n    },\n    async fetchUserDetails(page = 1, limit = 15) {\n      try {\n        this.limit = limit;\n        const response = await axios.get(`http://localhost:3000/users?page=${page}&limit=${this.limit}&first_name=${this.search_by_name}`, {\n          headers: {\n            authorization:'J23HRGVB2EREBWN',\n          }\n        });\n        const res = response.data\n        this.users = res.data;\n        this.total = res.total;\n        this.page = res.page;\n        this.limit = res.limit;\n\n      } catch (error) {\n        console.error('Error fetching user details:', error);\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString();\n    },\n  },\n  mounted() {\n    this.fetchUserDetails();\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n"],"mappings":"AAmCA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,CAAC;MACRC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,SAASA,CAAA,EACT;MACE,IAAI,IAAI,CAACC,KAAK,EAAE;QACd,IAAI,CAACH,cAAa,GAAI,IAAI,CAACG,KAAK;MAClC;IACF,CAAC;IACD,MAAMC,gBAAgBA,CAACP,IAAG,GAAI,CAAC,EAAEC,KAAI,GAAI,EAAE,EAAE;MAC3C,IAAI;QACF,IAAI,CAACA,KAAI,GAAIA,KAAK;QAClB,MAAMO,QAAO,GAAI,MAAMX,KAAK,CAACY,GAAG,CAAC,oCAAoCT,IAAI,UAAU,IAAI,CAACC,KAAK,eAAe,IAAI,CAACE,cAAc,EAAE,EAAE;UACjIO,OAAO,EAAE;YACPC,aAAa,EAAC;UAChB;QACF,CAAC,CAAC;QACF,MAAMC,GAAE,GAAIJ,QAAQ,CAACV,IAAG;QACxB,IAAI,CAACC,KAAI,GAAIa,GAAG,CAACd,IAAI;QACrB,IAAI,CAACI,KAAI,GAAIU,GAAG,CAACV,KAAK;QACtB,IAAI,CAACF,IAAG,GAAIY,GAAG,CAACZ,IAAI;QACpB,IAAI,CAACC,KAAI,GAAIW,GAAG,CAACX,KAAK;MAExB,EAAE,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;IACDE,UAAUA,CAACC,IAAI,EAAE;MACf,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,cAAc,CAAC,CAAC;IACxC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACZ,gBAAgB,CAAC,CAAC;EACzB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}